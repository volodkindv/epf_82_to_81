Конвертация внешних обработок 1С8 из 8.2 в 8.1.

Использование:

1. Установить интерпретатор Python 3 версии: https://www.python.org/downloads/. 
1. Клонировать/скачать репозиторий.
1. Положить в корень репозитория нужную внешнюю обработку, например, test.epf
1. В корне репозитория выполнить команду: python downgrade.py test.epf. Появится файл test_81.epf. Его надо открыть в конфигураторе 8.1 и обязательно пересохранить еще раз.
1. В качестве параметра в скрипт можно передавать также маску. python downgrade.py *.epf сконвертирует все внешние обработки в текущей директории.

Скрипт отлаживался на версии 3.5.2.

Внешние обработки должны коректно открываться в платформе 8.2.16. Если внешнюю обработку сохраняли на платформе 8.3, то она может не сконвертироваться.

При установке Python обязательно поставить флаг "add to path", или вручную потом добавить.

Возможны проблемы с конвертацией макетов типа "СхемаКомпоновкиДанных" и какой-нибудь экзотикой вроде "ГрафическаяСхема".

Макеты "ТекстовыйДокумент", "ТабличныйДокумент", "ДвоичныеДанные" конвертируются нормально.

Макеты "СхемаКомпоновкиДанных" тоже конвертируются, но костыльно. Возможны ошибки.

Конвертация макетов остальных типов не проверялась.

В папке epf2src лежит библиотека для работы с внутренним форматом файлов 1С8 ("фигурные скобки и запятые").


Благодарности:

Автору V83Unpack за распаковщик/запаковщик;

Авторам V8Reader за идеи.

Проекту "Инструменты доктора Шатца" (Assembla).
 
Авторам GComp для 7.7 за скрипт попроцедурной нарезки текста модуля (использован в другом проекте, являющемся базой для данного). 